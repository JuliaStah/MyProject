(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1922],{59252:function(e,t,r){"use strict";r.d(t,{e:function(){return N}});var n=r(97266),i=r(8100),s=r(58268),l=r(97312),o=r(11581),a=r(80129),c=r.n(a),u=r(90273),d=r(15442),p=r(15713);let m={page:0,offset:0,limit:20},h=(e,t)=>`${l.n.catalog.product.getProductsSelection(t)}${c().stringify(e??m)}&${n.p7.SELECTION}`,_=async(e=m,t="")=>{let{data:{items:r}}=await (0,p.Hs)(e,t);return{items:r,fallback:{[h(e,t)]:r}}},g=e=>({page:0,offset:0,limit:20,filter:{selectionId:e.selectionId||"",selectionGroupId:e.selectionGroupId||""}}),x=e=>`${l.n.promo.getPromotionDetail}${c().stringify(e)}&${n.p7.ACTION}`,f=async({actionId:e,mobile:t=!1})=>{if(!e)return{items:null,fallback:{}};let{data:r}=await (0,d.YL)({actionId:e,mobile:t}),n={[x({actionId:e,mobile:t})]:r};if(r.selectionId||r.selectionGroupId){let i=g(r),{data:{items:s}}=await (0,u.q2)(i);return{items:s,fallback:{...n,[`${l.n.catalog.product.getProducts}&${c().stringify(i)}`]:s}}}return{items:null,fallback:n}};var v=r(74521);let b={page:0,offset:0,limit:20,sort:n.XN.NOVELTY},w=(0,v.Ru)(b),y=async(e=b)=>{let{data:t}=await (0,u.q2)(e);return{...t,fallback:{[w]:t}}},j=l.n.content.getRecommendShelves,P=async e=>{let t=await (0,s.yg)().then(({data:e})=>e?.["recommend-shelves"]?.sort((e,t)=>Number(t.sort)-Number(e.sort)));if(!t?.length)return null;let r=await Promise.all(t.map(async t=>{let r=null;switch(t.place){case n.p7.NOVELTIE:{if(e&&e!==n.p7.NOVELTIE)return null;let i=await y(void 0);return r=i?.items?.flat()??[],{shelve:t,products:r}}case n.p7.ACTION:{if(e&&e!==n.p7.ACTION)return null;let s=await f({actionId:t.itemId});return r=s?.items?.flat()??[],{shelve:t,products:r}}case n.p7.SELECTION:{if(e&&e!==n.p7.SELECTION)return null;let l=await _({page:0,offset:0,limit:20},t.itemId);return r=l?.items?.flat()??[],{shelve:t,products:r}}}}));return{items:r,fallback:{[j]:r}}},N=e=>{let{data:t,error:r}=(0,i.ZP)(e?j+e:j,async()=>{let t=await P(e);return t?.items.filter(t=>!e||t?.shelve.place===e)},{onError:e=>(0,o.ri)(e,"Не удалось загрузить список рекомендательных полок")});return{data:t,error:r,isLoading:!t&&!r}}},31451:function(e,t,r){"use strict";r.d(t,{u:function(){return o}});var n=r(67294),i=r(86302),s=r(54287),l=r(97784);let o=e=>{let{sendAnalytics:t}=(0,s.z)(),r=(0,n.useRef)("");(0,n.useEffect)(()=>{if(t){if("products"===e.type){let{products:n,categoryData:s,page:o,categoryHierarchy:a}=e;if(!n.length||!s)return;let c=n.map(e=>e.offerId),u=c.toString();if(r.current===u)return;r.current=u;let d=a||(0,l.bE)(),p={category_id:Number(s?.id??0),category_name:s?.title??"",offer_ids:c,page_number:o,category_hierarchy:d};t({eventName:i.Sj.VIEW_CATEGORY,eventProps:p})}else if("categories"===e.type){let{categoryData:m,page:h,categoryHierarchy:_}=e;if(r.current===_)return;r.current=_;let g={category_id:Number(m?.id??0),category_name:m?.title??"",offer_ids:[],page_number:h,category_hierarchy:_};t({eventName:i.Sj.VIEW_CATEGORY,eventProps:g})}}},[t,e])}},82741:function(e,t,r){"use strict";r.d(t,{Z:function(){return k}});var n=r(85893),i=r(97266),s=r(67294),l=r(94184),o=r.n(l),a=r(41664),c=r.n(a),u=r(11163),d=r(8100),p=r(91561),m=r(58440),h=r(11581),_=r(64914);let g=({breadcrumbsPageType:e,path:t,resolvedUrl:r,req:n})=>{let s=n?.cookies?.[m.Qg.previousPage]||(0,h.w7)(m.Qg.previousPage);return{pageType:e,pageCode:(r||t+""||"")?.split?.("/filter")?.[0]||"",previousPageType:s?(0,_.m)(s):i.GV.catalog,previousPageCode:s??""}};var x=r(4305),f=r(35847),v=r(126);let b=e=>{let t=e?.split("/");return t?.[t.length-1]??""},w=e=>{(0,v.rg)(m.je.breadcrumbs,y(e))},y=e=>{let t="";return e?.links?.forEach((e,r)=>{r&&(t+=t?`/${e.title}`:e.title)}),t};var j=r(32033),P=r.n(j);let N=({externalStyles:e,breadcrumbsPageType:t})=>{let r=(0,u.useRouter)(),{fallback:s}=(0,d.kY)(),l=s[m.aJ.breadcrumbsParams]||{},a=l||g({breadcrumbsPageType:t,path:r.asPath});{let _=g({breadcrumbsPageType:t,path:r.asPath}),v=(0,h.uv)(_,l);v||(a=_)}let{breadcrumbs:y}=(0,p.hp)(a);w(y);let j=i.GV.shares===t?1:2;return(0,n.jsxs)("div",{className:o()(e&&e.root),"aria-label":"breadcrumb",children:[(0,n.jsx)("ul",{className:P().list,itemScope:!0,itemType:"https://schema.org/BreadcrumbList",children:y?.links?.map((e,r)=>{if(i.GV.shares!==t||0!==r)return(0,n.jsx)("li",{className:o()(P().item,"text-interface"),itemScope:!0,itemProp:"itemListElement",itemType:"https://schema.org/ListItem",id:`id_breadcrumb_${b(e.url)}`,children:t===i.GV.catalog||t===i.GV.brand?(0,n.jsxs)(n.Fragment,{children:[r!==y.links.length-1?(0,n.jsx)(c(),{href:e?.url,passHref:!0,children:(0,n.jsx)("a",{className:P().link,itemProp:"item",children:(0,n.jsx)("span",{itemProp:"name",children:e?.title})})}):(0,n.jsx)("span",{className:P().link,itemProp:"name",children:e?.title}),(0,n.jsx)("meta",{itemProp:"position",content:`${r+1}`})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c(),{href:e?.url,passHref:!0,children:(0,n.jsx)("a",{className:P().link,itemProp:"item",children:(0,n.jsx)("span",{itemProp:"name",children:e?.title})})}),(0,n.jsx)("meta",{itemProp:"position",content:`${r+1}`})]})},e.url)})}),(0,n.jsx)(x.r,{children:(0,n.jsx)("ul",{className:P().prev,itemScope:!0,itemType:"https://schema.org/BreadcrumbList",children:(0,n.jsxs)("li",{className:o()("text-link-button",P().linkButton),itemScope:!0,itemProp:"itemListElement",itemType:"https://schema.org/ListItem",children:[(0,n.jsx)(f.J,{className:P().arrowIcon,width:16,height:15,src:"./arrow-left.svg"}),y?.links?.[y.links.length-2]?.url&&t!==i.GV.product&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c(),{href:y.links[y.links.length-j]?.url,passHref:!0,children:(0,n.jsx)("a",{itemProp:"item",children:(0,n.jsx)("span",{itemProp:"name",children:y.links[y.links.length-j]?.title})})}),(0,n.jsx)("meta",{itemProp:"position",content:`${y.links.length-1}`})]}),y?.links?.[y.links.length-1]?.url&&t===i.GV.product&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c(),{href:y.links[y.links.length-1]?.url,passHref:!0,children:(0,n.jsx)("a",{itemProp:"item",children:(0,n.jsx)("span",{itemProp:"name",children:y.links[y.links.length-1]?.title})})}),(0,n.jsx)("meta",{itemProp:"position",content:`${y.links.length-1}`})]})]})})})]})};var k=(0,s.memo)(N)},2825:function(e,t,r){"use strict";r.d(t,{Z:function(){return D}});var n=r(85893),i=r(97266),s=r(67294),l=r(94184),o=r.n(l),a=r(74184),c=r(59252),u=r(70131),d=r(84990),p=r(40974),m=r(38704),h=r(28891),_=r(8352),g=r(19328);i.XN.DATECREATE;let x={320:{slidesPerView:2,slidesPerGroup:2},425:{slidesPerView:3,slidesPerGroup:3},1280:{slidesPerView:6,slidesPerGroup:6}};var f=r(33566),v=r.n(f);let b=({isSmall:e=!0,title:t,className:r,slidesConfig:i=x,items:l,categoryId:a,categoryName:c,shelveId:f,sliderId:b})=>{let{ref:w,inView:y}=(0,u.YD)({root:null,rootMargin:"0px",threshold:.5,triggerOnce:!0,delay:1e3}),j=!(!l?.length||l.length<4),P=j&&y,{0:N,1:k}=(0,s.useState)(0),S=(0,d.a)("(max-width: 767px)"),I=(0,d.a)(_.WU),B=(0,d.a)(_.Gs),C=(0,d.a)(_.Ez),G=(0,g.q)(S,I,B,C,void 0);return((0,m.B)({title:t,products:l?.slice(N,G+N),showProducts:P,categoryId:a,shelveId:f,categoryName:c}),(0,p.J)({title:t,products:l?.slice(N,G+N),showProducts:P,categoryId:a,shelveId:f,categoryName:c}),j)?(0,n.jsxs)("section",{className:o()(v().root,r),ref:w,children:[(0,n.jsx)("div",{className:o()("lowercase","text-h2"),children:t}),(0,n.jsx)(h.v,{elementInnerId:`shelveBlocks_${b}_${a}_${f}`,pagination:S,className:v().selectionSlider,products:l,withoutMargin:!0,isSmallCard:e&&!S,slidesPerViewConfig:i,isRecommendationShelve:!0,recommendationShelveName:t,recommendShelveId:f,setIndexSlide:k,categoryId:a,categoryName:c})]}):null};var w=s.memo(b);let y=({isSmall:e=!0,title:t,className:r,slidesConfig:s=x,categoryId:l,shelveId:o})=>{let{data:a}=(0,c.e)(i.p7.ACTION),u=a?.[0]?.products??[];return(0,n.jsx)(w,{sliderId:"ActionShelve",isSmall:e,title:t,className:r,slidesConfig:s,items:u,categoryId:l,shelveId:o})};var j=r(12791),P=r(77644),N=r(90273),k=r(23466),S=r.n(k);let I=({selection:e})=>{let{id:t}=e,{products:r}=(0,N.x4)({page:0,offset:0,limit:20},t),i=(0,d.a)("(max-width: 767px)");return(0,n.jsx)("div",{className:S().root,children:!!r&&(0,n.jsx)(h.v,{elementInnerId:t,products:r,slidesPerViewConfig:_.AR,isSmallCard:!i})})};var B=r(96669),C=r.n(B);let G=({selectionGroupId:e,selectionId:t})=>{let r={offset:0,limit:20,...!!e&&{groupId:e}},{0:i,1:l}=(0,s.useState)(),{selections:a}=(0,j.a3)(r),c=e=>{let t=a?.items.find(t=>t.id===e);l(t)};return(0,s.useEffect)(()=>{if(a?.items&&t){let e=a.items.find(({id:e})=>t===e);e&&l(e)}else a?.items&&!t&&l(a.items[0])},[a?.items]),(0,n.jsxs)("div",{className:C().root,children:[!t&&a&&(0,n.jsx)("div",{className:C().selections,children:a?.items.map(e=>{let t=e.id===i?.id;return(0,n.jsx)(P.Z,{checked:t,name:e.fullName,value:e.fullName,label:e.fullName,onClick:()=>c(e.id),externalStyles:{root:o()("text-button-big")}},e.id)})}),!!i&&(0,n.jsx)(I,{selection:i})]})};var E=r(82741),L=r(68394),T=r.n(L);let V=({title:e,sidebar:t,children:r,noBreadcrumbs:s,selectionGroupId:l,selectionId:c,isShowSelections:u=!1,pageType:d=i.GV.catalog,customTitle:p,titleStyles:m,emoji:h,isLandingPage:_})=>{let g=d===i.GV.brand,x=d===i.GV.shares&&!c;return d=_?i.GV.catalogLandingPage:d,(0,n.jsxs)("section",{className:o()(T().root,{[T().wrapper]:x}),children:[!s&&(0,n.jsx)(E.Z,{breadcrumbsPageType:d}),p&&(0,n.jsx)("div",{className:o()(T().title,g&&T()["title--brand"],m&&m),children:p}),!p&&!x&&e&&(0,n.jsxs)(a.Z,{level:1,className:o()(T().title,"text-h1",g&&T()["title--brand"]),children:[h,e]}),g&&(!!c||!!l)&&(0,n.jsx)(G,{selectionGroupId:l,selectionId:c}),g&&(0,n.jsx)(y,{title:"Подкатегории для бренда",className:T().shelveBlock}),u&&g&&(0,n.jsxs)(a.Z,{level:2,className:"text-h2",children:["все товары ",e]}),(0,n.jsxs)("section",{className:T().contentContainer,children:[(0,n.jsx)("aside",{className:T().sidebar,children:t}),(0,n.jsx)("section",{className:T().content,children:r})]})]})};var D=V},14879:function(e,t,r){"use strict";r.d(t,{Z:function(){return h}});var n=r(85893),i=r(67294),s=r(94184),l=r.n(s),o=r(11163),a=r(15713),c=r(82336);let u=(e=1..toString())=>!(parseInt(e)>1);var d=r(86831),p=r.n(d);let m=()=>{let e=(0,o.useRouter)(),t="/product/[slug]"===e.pathname,{seo:r}=(0,a.ZIn)(),s=r?.seoText,{0:d,1:m}=(0,i.useState)(!!s&&s.length<=1e3),h=u(`${e.query.page}`),_=(0,i.useCallback)(()=>m(e=>!e),[]);return s&&h?(0,n.jsxs)("div",{className:l()(p().root,p().typography,"text-interface gray-darkest",{[p().productPage]:t}),children:[(0,n.jsx)("div",{className:l()(p().textContainer,p().typography,"text-interface gray-darkest",{[p().isShown]:d}),dangerouslySetInnerHTML:{__html:s}}),s.length>1e3&&(0,n.jsx)(c.Z,{type:"button",themes:["link-purple"],externalStyles:{root:p().button},onClick:_,children:(0,n.jsx)("span",{className:"text-link-button",children:d?"Скрыть описание":"Раскрыть описание"})})]}):null};var h=i.memo(m)},18255:function(e,t,r){"use strict";r.d(t,{L:function(){return u}});var n=r(85893),i=r(94184),s=r.n(i),l=r(35847),o=r(82336),a=r(87537),c=r.n(a);let u=({btnId:e,btnStyles:t="",isPrev:r,onClick:i})=>(0,n.jsx)(o.Z,{type:"button",themes:["circle"],externalStyles:{root:s()(c().arrowButton,r&&c().prev,t)},onClick:()=>i&&i(!!r),id:e,children:(0,n.jsx)(l.J,{className:s()(c().arrowIcon,"buttonNext"),width:18,height:18,src:"./arrow-huge-next.svg"})})},8352:function(e,t,r){"use strict";r.d(t,{AR:function(){return c},DJ:function(){return u},Ez:function(){return s},Gs:function(){return i},Kb:function(){return l},R_:function(){return a},WU:function(){return n},rM:function(){return o},sd:function(){return d}});let n="(max-width: 420px)",i="(max-width: 1280px)",s="(max-width: 1024px)",l={MOBILE:2,TABLET:3,LG:4,MD:3,XL:4},o={320:{slidesPerView:2,slidesPerGroup:2},425:{slidesPerView:3,slidesPerGroup:3},1280:{slidesPerView:4,slidesPerGroup:4}},a={320:{slidesPerView:2,slidesPerGroup:2},550:{slidesPerView:3,slidesPerGroup:3},1280:{slidesPerView:4,slidesPerGroup:4}},c={320:{slidesPerView:2,slidesPerGroup:1},425:{slidesPerView:3,slidesPerGroup:1},1280:{slidesPerView:6,slidesPerGroup:1}},u={draggable:!0},d={enabled:!0,onlyInViewport:!1}},19328:function(e,t,r){"use strict";r.d(t,{q:function(){return i}});var n=r(8352);let i=(e=!1,t,r,i,s=n.Kb)=>t?s.MOBILE:e?s.TABLET:i?s.MD:r?s.LG:s.XL},28891:function(e,t,r){"use strict";r.d(t,{v:function(){return y}});var n=r(85893),i=r(67294),s=r(70131),l=r(94184),o=r.n(l),a=r(41664),c=r.n(a),u=r(50067),d=r(22546),p=r(15442),m=r(25416),h=r(32195),_=r(71312),g=r(18255),x=r(11700),f=r(10880),v=r(8352),b=r(65907),w=r.n(b);u.ZP.use([u.tl]);let y=({products:e,pagination:t=!0,isSmallCard:r,withoutMargin:l,isRecommendationShelve:a,recommendationShelveName:b,recommendShelveId:y,elementInnerId:j,setIndexSlide:P,isPetcoin:N,slidesPerViewConfig:k=v.rM,productsMeta:S,linkGetAll:I,sendAnalytics:B,categoryId:C,categoryName:G,hideNotAvailable:E,className:L})=>{let T=(0,h.d)(),V=e.map(e=>e.offerId),{productsPromotions:D}=(0,p.yV)(x.Q,V),$=(0,f.d)(e,D?.items);if(!0===E){let O=$.filter(e=>e.available);O.length>0&&($=O)}let Z=(0,i.useRef)(),A=(0,m.s)(),{ref:R}=(0,s.YD)({triggerOnce:!0}),{0:M,1:H}=(0,i.useState)(!1),{0:U,1:Y}=(0,i.useState)(!1),W=e=>e?Z.current?.slidePrev():Z.current?.slideNext();(0,i.useEffect)(()=>{H(!Z.current?.isEnd),Y(!Z.current?.isBeginning)},[e]);let F=(0,i.useMemo)(()=>0!==e.length&&$.map((e,t)=>(0,n.jsx)(d.o5,{children:(0,n.jsx)(_.Q,{index:t,data:e,isShowRating:!0,isPetcoin:N,isSmall:r,isRecommendationCard:a,recommendationShelveName:b,recommendShelveId:y,categoryId:C,categoryName:G})},`${e.offerId}_${e?.productId}`)),[C,G,a,r,e.length,$,y,b,]),J=(0,i.useCallback)(e=>{Z.current=e,H(!e.isEnd)},[]),z=(0,i.useCallback)(e=>{B&&B(e.activeIndex),P&&P(e.activeIndex),H(!e.isEnd),Y(!e.isBeginning)},[B,P]);return(0,n.jsx)("div",{ref:R,className:o()(w().root,"js-swiper-default",l&&w().withoutMargin,L&&L),children:(0,n.jsxs)("div",{ref:A,children:[(0,n.jsx)(d.tq,{breakpoints:k,loop:!1,scrollbar:v.DJ,pagination:t&&{el:`#swiper-pagination-${j}`,type:"bullets",clickable:!0},modules:[u.N1,u.tl,u.W_],onAfterInit:J,onSlideChange:z,spaceBetween:T?8:16,keyboard:v.sd,children:(0,n.jsxs)("section",{children:[F,S?.total&&I&&S?.total>20&&(0,n.jsx)(d.o5,{children:(0,n.jsx)(c(),{href:I,children:(0,n.jsx)("a",{children:(0,n.jsx)("div",{className:w().emptyBlock,children:(0,n.jsx)("span",{className:o()("text-label",w().emptyBlockContent),children:"Смотреть все"})})})})},I)]})}),t&&(0,n.jsx)("div",{className:"swiper-pagination",id:`swiper-pagination-${j}`}),U&&(0,n.jsx)(g.L,{isPrev:!0,btnStyles:w().arrowButtonPrev,onClick:W}),M&&(0,n.jsx)(g.L,{onClick:W,btnStyles:w().arrowButtonNext})]})})}},77644:function(e,t,r){"use strict";var n=r(85893),i=r(94184),s=r.n(i),l=r(15071),o=r.n(l);let a=({name:e,value:t,label:r,externalStyles:i,onClick:l,checked:a,disableFocusForMobile:c})=>(0,n.jsxs)("label",{className:s()(o().root,i&&i.root),children:[(0,n.jsx)("input",{type:"checkbox",name:e,value:t,className:s()(o().input,c&&o().disabledFocus),onChange:l,checked:a}),(0,n.jsx)("span",{className:o().box,children:r})]});t.Z=a},74184:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var n=r(85893),i=r(67294),s=r(94184),l=r.n(s);let o=[1,2,3,4,5,6];var a=r(18757),c=r.n(a);let u=({level:e=1,variant:t="h1",tooltip:r,externalStyles:i,children:s,className:a,id:u,...d})=>{let p=o.includes(e)?`h${e}`:"h1",m=l()(c().root,`text-${t}`,i&&i.root,a);return(0,n.jsxs)(p,{...d,id:u,className:m,children:[s,r&&(0,n.jsx)("span",{className:l()(c().tooltip),children:r})]})},d=i.memo(u);var p=d},32033:function(e){e.exports={list:"Breadcrumbs_list__zCs6V",prev:"Breadcrumbs_prev__tBbU6",linkButton:"Breadcrumbs_linkButton___fQm3",item:"Breadcrumbs_item__sIvrU",arrowIcon:"Breadcrumbs_arrowIcon__9AEgx"}},68394:function(e){e.exports={root:"CategoryLayout_root__b1uzH",wrapper:"CategoryLayout_wrapper__ciOm8",title:"CategoryLayout_title__1Fa94","title--brand":"CategoryLayout_title--brand__E8j9P",contentContainer:"CategoryLayout_contentContainer__ewexP",sidebar:"CategoryLayout_sidebar__veGNU",content:"CategoryLayout_content__7dUNo",shelveBlock:"CategoryLayout_shelveBlock__jYdhw"}},86831:function(e){e.exports={root:"DescriptionDropdown_root__2WNcI",productPage:"DescriptionDropdown_productPage__bZHg6",typography:"DescriptionDropdown_typography__1WlDe",textContainer:"DescriptionDropdown_textContainer__rsI_p",isShown:"DescriptionDropdown_isShown__rK32B",button:"DescriptionDropdown_button__6hP4a"}},33566:function(e){e.exports={root:"ShelveBlock_root___T21l",selectionSlider:"ShelveBlock_selectionSlider__YG2tC"}},87537:function(e){e.exports={arrowButton:"SwiperButton_arrowButton__kLDOg",prev:"SwiperButton_prev__IYWiT",arrowIcon:"SwiperButton_arrowIcon__3Pnvk"}},96669:function(e){e.exports={root:"BrandSelectionGroup_root__0ltGI",activeSelection:"BrandSelectionGroup_activeSelection__4lxbi",span:"BrandSelectionGroup_span__lU1NB",selections:"BrandSelectionGroup_selections__ZDBOK",selectionTag:"BrandSelectionGroup_selectionTag__Z_ugx"}},23466:function(){},65907:function(e){e.exports={root:"SelectionSlider_root__P27MP",withoutMargin:"SelectionSlider_withoutMargin__s2vfT",arrowButtonPrev:"SelectionSlider_arrowButtonPrev__UOlcH",arrowButtonNext:"SelectionSlider_arrowButtonNext__2zUGa",emptyBlock:"SelectionSlider_emptyBlock__7EAGh",emptyBlockContent:"SelectionSlider_emptyBlockContent__vUNpS"}},15071:function(e){e.exports={root:"ButtonCheckbox_root__z00Ts",input:"ButtonCheckbox_input__LDiPx",box:"ButtonCheckbox_box__wWZHP",disabledFocus:"ButtonCheckbox_disabledFocus__jfZJZ"}},18757:function(e){e.exports={root:"Title_root__J7hHl",tooltip:"Title_tooltip__N36fN"}}}]);